{
  "title": "Экранные плотности в Android",
  "content": [
    {
      "type": "text",
      "value": "В Android разработке важно учитывать **плотность пикселей** (**DPI**/**PPI**) экранов устройств, так как от этого зависит отображение графики и UI."
    },
    {
      "type": "text",
      "value": "**DPI** (**Dots Per Inch**) /**PPI** (**Pixels Per Inch**)\n\n- **DPI**(**точек на дюйм**) — физическая плотность пикселей на экране.\n\n- **PPI**(**пикселей на дюйм**) — цифровой аналог (в Android обычно используют термин **DPI**)."
    },
    {
      "type": "code",
      "language": "xml",
      "value": "Плотность:\tDPI (диапазон):\tКоэффициент масштаба:\tПример устройств:\nldpi\t        ~120 dpi\t0.75x\t                Очень старые телефоны\nmdpi\t        ~160 dpi\t1x (базовая)\t        Nexus 4, старые смартфоны\nhdpi\t        ~240 dpi\t1.5x\t                Samsung Galaxy S3\nxhdpi\t        ~320 dpi\t2x\t                Pixel 3, большинство современных телефонов\nxxhdpi\t        ~480 dpi\t3x\t                Samsung Galaxy S10, OnePlus 7\nxxxhdpi\t        ~640 dpi\t4x\t                Премиум-устройства (Samsung S21 Ultra)\nnodpi\t        Любая\t        Не масштабируется\tДля растровых ресурсов, которые не должны масштабироваться"
    },
    {
      "type": "text",
      "value": "Правила выбора:\n\n- Если есть ресурс для точной плотности — он используется.\n\n- Если нет — Android берет ближайший больший и масштабирует вниз.\n\n- Если большего нет — берет меньший и масштабирует вверх (это хуже для качества)."
    },
    {
      "type": "text",
      "value": "#### Как проверить DPI устройства?"
    },
    {
      "type": "text",
      "value": "- Программно в коде:"
    },
    {
      "type": "code",
      "language": "kotlin",
      "value": "val density = resources.displayMetrics.density  // Коэффициент масштаба (1.0 = mdpi)\nval densityDpi = resources.displayMetrics.densityDpi  // Число DPI (160, 240, 320...)\n\nLog.d(\"Screen\", \"Density: $density\")          // Например, 2.0 для xhdpi\nLog.d(\"Screen\", \"DPI: $densityDpi\")          // Например, 320 для xhdpi"
    },
    {
      "type": "text",
      "value": "- Через ADB:"
    },
    {
      "type": "code",
      "language": "xml",
      "value": "adb shell wm density\n\n// Результат:\n// Physical density: 480\n// Override density: 420  # Если изменено в настройках разработчика"
    },
    {
      "type": "text",
      "value": "#### Основные единицы измерения:"
    },
    {
      "type": "text",
      "value": "#### `px` (пиксели)\n\nЧто это: Физические пиксели на экране.\n\nКогда использовать: Почти никогда! (кроме низкоуровневой отрисовки в Canvas).\n\nПроблема: Разные устройства имеют разное количество пикселей на дюйм (DPI), поэтому элементы будут разного физического размера."
    },
    {
      "type": "text",
      "value": "#### `dp` (density-independent pixels)\n\nЧто это: Виртуальные пиксели, масштабируемые под плотность экрана.\n\nБазовый стандарт: 1 dp = 1 px при 160 dpi (mdpi).\n\nКогда использовать: Для всех размеров View (ширина, высота, отступы)."
    },
    {
      "type": "text",
      "value": "#### `sp` (scale-independent pixels)\n\nЧто это: Аналогичны dp, но учитывают настройки размера шрифта пользователя.\n\nКогда использовать: Только для текста (TextView, TextSize)."
    },
    {
      "type": "text",
      "value": "#### `mm` (миллиметры)\n\nЧто это: Реальные физические миллиметры.\n\nПроблема: Неточность из-за различий в плотности экранов.\n\nКогда использовать: Для печатных макетов или специфичных задач."
    },
    {
      "type": "text",
      "value": "#### `in` (дюймы)\n\nЧто это: 1 дюйм = 25.4 мм.\n\nКогда использовать: Крайне редко (например, для ruler-приложений)."
    },
    {
      "type": "code",
      "language": "xml",
      "value": "Единица:    Зависит от DPI:    Зависит от настроек шрифта:    Рекомендуется для:\npx\t    Нет\t               Нет\t                      Почти никогда\ndp\t    Да\t               Нет\t                      Размеры View\nsp\t    Да\t               Да\t                      Текст\nmm\t    Да\t               Нет\t                      Спец. случаи\nin\t    Да\t               Нет\t                      Спец. случаи"
    },
    {
      "type": "text",
      "value": "**dp** — для размеров, отступов и всего, кроме текста.\n\n\n\n**sp** — только для текста (адаптируется под настройки пользователя).\n\n\n\n**px** — только для кастомной отрисовки (Canvas).\n\n\n\n**mm/in** — почти никогда не используются.\n\n\n\n**Векторная графика** — лучший выбор для иконок."
    }
  ]
}