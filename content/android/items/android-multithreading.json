{
  "title": "Многопоточность",
  "content": [
    {
      "type": "text",
      "value": "**Многопоточность** — ключевая концепция в Android-разработке, позволяющая эффективно распределять задачи между потоками для обеспечения плавного UI и быстрой работы приложения."
    },
    {
      "type": "text",
      "value": "**Основной поток (UI Thread):**\n\n- **Единственный поток**, отвечающий за обновление интерфейса\n\n- Также называется \"главным потоком\" или \"потоком UI\"\n\n- Обрабатывает все взаимодействия пользователя (нажатия, жесты)\n\n- Имеет встроенный **Looper** и **MessageQueue**"
    },
    {
      "type": "text",
      "value": "**Ограничения основного потока:**\n\n- **Нельзя блокировать**: долгие операции (>5 сек) вызывают ANR (Application Not Responding)\n\n- **Только здесь можно обновлять UI**: попытка обновления из другого потока вызовет **CalledFromWrongThreadException**\n\n**Типичные задачи в основном потоке:**\n\n- Обновление View (**TextView.setText()**, **RecyclerView.notifyDataSetChanged()**)\n\n- Обработка кликов\n\n- Анимации\n\n- Работа с **LiveData.observe()**"
    },
    {
      "type": "text",
      "value": "#### Многопоточность в Android\n\n- **Избегание ANR:** вынос долгих операций из UI-потока\n\n- **Повышение производительности:** параллельное выполнение задач\n\n- **Плавный интерфейс:** UI остаётся отзывчивым во время фоновых операций"
    },
    {
      "type": "text",
      "value": "###  Основные подходы"
    },
    {
      "type": "code",
      "language": "kotlin",
      "value": "Способ\t                 Описание\t                                   Когда использовать\nThread\t                  Базовые потоки Java\t                           Простые фоновые задачи\nHandler/HandlerThread\t  Система сообщений Android\t                   Очереди задач с приоритетами\nAsyncTask (устарел)\t  Упрощённое управление потоками\t           Не рекомендуется с API 30+\nIntentService (устарел)\t  Фоновые операции с автоматическим завершением\t   Заменён на WorkManager\nRxJava\t                  Реактивное программирование\t                   Сложные асинхронные цепочки\nКорутины\t          Легковесные потоки Kotlin\t                   Современный стандарт\nWorkManager\t          Отложенные гарантированные задачи\t           Фоновые процессы"
    },
    {
      "type": "text",
      "value": "#### Современные лучшие практики:\n\n- **Используйте корутины** для новых проектов\n\n- **Избегайте AsyncTask** — устарел с API 30\n\n- **Для фоновых сервисов** применяйте **WorkManager**\n\n- **Для CPU-интенсивных задач** — **Dispatchers.Default**\n\n- **Тестируйте многопоточность** с **@RunWith(AndroidJUnit4::class)**"
    }
  ]
}